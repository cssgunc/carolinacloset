<!DOCTYPE html>
<html lang="en">

<head>
	<%- include("../components/baselinks") -%>
</head>

<body>
	<%- include("../components/header") -%>
	<div class="container">
		<%- include("../components/alerts") -%>
		<h1>Enter an Item Manually</h1>
		<form action="/entry/manual" method="post" id="entryForm">
			
			<div class="form-group">
				<label for="type">Clothing Type: </label>
				
					<select class="custom-select custom-select-lg" id="type" name="type" form="entryForm" required>
						<option selected>Choose...</option>
						<option value="suits">Suits</option>
						<option value="shirts">Shirts</option>
						<option value="pants">Pants</option>
						<option value="shoes">Shoes</option>

					  </select>
			</div>
			<div class="form-group">
				<label for="gender">Gender: </label>
				
					<select class="custom-select custom-select-lg" id="gender"  name="gender" form="entryForm" required>
						<option selected>Choose...</option>
						<option value="male">Male</option>
						<option value="female">Female</option>
					  </select>
			</div>
			<div class="form-group">
				<label for="count">Count: </label>
				<input id="count" name="count" class="form-control form-control-lg" type="number" placeholder="Ex. 20" required>
			</div>
			<div class="form-group">
				<label for="color">Color:</label>
			
				<select class="custom-select custom-select-lg" id="color" name="color" form="entryForm" required>
					<option selected>Choose...</option>
					<option value="white">White</option>
					<option value="black">Black</option>
					<option value="navy">Navy</option>
					<option value="blue">Blue</option>
					<option value="multicolored">Multicolored</option>


				</select>

					
			</div>
			<div class="form-group">
				<label for="brand">Brand:</label>
				<input id="brand" name="brand" class="form-control form-control-lg" type="text"
					placeholder="Ex. Gluten-free soup expiring 4/20/19"
					<% if(response.foundItem && response.foundItem.desc) {%>value="<%= response.foundItem.desc %>" <% } %>>
					
			</div>
			<div class="form-group">
				<button class="form-control btn-success btn-md float-middle" style="margin:px" type="action"
					value="Submit New Item">Submit New Item
				</button>
			</div>
		</form>
		<% if (response && response.error) {%>
		<div class="alert alert-danger">
			<%= response.error%>
		</div>
		<% } %>
	</div>
	<% if(response.itemFound) { %>
	<div class="modal fade" id="foundModal" tabindex="-1" role="dialog" aria-labelledby="foundModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<p class="modal-title" id="foundModalLabel">Item already found in database, do you want to update this entry?
					</p>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form name="foundForm" id="foundForm" action="/entry/manual/update" method="POST">
						<div class="form-group">
							<input class="form-control" type="text" name="id" id="foundModalId" readonly hidden aria-label="item id"
								value="<%- response.itemFound.id %>">
							
						</div>
					
						<div class="form-group">
							<label for="foundType">Clothing Type:</label>
							<input class="form-control" type="text" name="barcode" id="foundType" readonly
								value="<%= response.itemFound.type %>">
							

						
						</div>
						<div class="form-group">
							<label for="foundGender">Gender:</label>
							<input class="form-control" type="text" name="gender" id="foundGender" readonly
								value="<%= response.itemFound.gender %>">
						</div>
						<div class="form-group">
							<label for="foundColor">Color:</label>
							<input class="form-control" type="text" name="color" id="foundColor" readonly
								value="<%= response.itemFound.color %>">
						</div>
						<div class="form-group">
							<label for="foundBrand">Brand:</label>
							<input class="form-control" type="text" name="brand" id="foundBrand" readonly
								value="<%= response.itemFound.brand %>">
						</div>
						
						<div class="form-group">
							<h5>Current Total:<%= response.itemFound.count? response.itemFound.count: 0 %> </h5>
							<label for="foundModalCount">Add or Remove</label>
							<input class="form-control" type="number" name="quantity" id="foundModalCount"
								min="<%= -1*response.itemFound.count %>" value=0>
						</div>
						
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
						<button type="submit" class="btn btn-primary" id="submitFound">Update</button>
					</form>
				</div>
			</div>
		</div>
	</div>
	<% } %>
	<%- include("../components/scripts") -%>
	<script type="text/javascript">
		$(window).on('load', function () {
			$('#foundModal').modal('show');
		});
	</script>
</body>

</html>